# ==============================================================================
# COINBITCLUB ENTERPRISE v6.0.0 - PRODUCTION ENVIRONMENT TEMPLATE
# ==============================================================================
# CRITICAL: Fill in all values before deploying to production
# NEVER commit this file with actual secrets to version control
# ==============================================================================

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================
NODE_ENV=production
PORT=3333
HOST=0.0.0.0

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# Primary database URL (PostgreSQL)
DATABASE_URL=postgresql://username:password@host:5432/database_name

# Optional: Read replicas for load balancing
# DB_READ_REPLICA_1=postgresql://username:password@replica1:5432/database_name
# DB_READ_REPLICA_2=postgresql://username:password@replica2:5432/database_name

# Connection pool settings
DB_POOL_MAX=50
DB_POOL_MIN=10
DB_POOL_IDLE_TIMEOUT=30000
DB_REPLICA_HEALTH_CHECK_INTERVAL=15000

# ==============================================================================
# SECURITY & AUTHENTICATION
# ==============================================================================
# CRITICAL: Generate strong secrets using: node -e "console.log(require('crypto').randomBytes(64).toString('base64'))"
JWT_SECRET=REPLACE_WITH_STRONG_SECRET_64_CHARS_BASE64
JWT_REFRESH_SECRET=REPLACE_WITH_STRONG_SECRET_64_CHARS_BASE64
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Encryption key (32 bytes hex): node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=REPLACE_WITH_32_BYTE_HEX_KEY

# Bcrypt rounds (higher = more secure but slower)
BCRYPT_ROUNDS=12

# ==============================================================================
# CORS & ALLOWED ORIGINS
# ==============================================================================
# Comma-separated list of allowed frontend origins
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ==============================================================================
# REDIS CONFIGURATION (for sessions and caching)
# ==============================================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# ==============================================================================
# EXCHANGE API CREDENTIALS
# ==============================================================================
# IMPORTANT: In PERSONAL trading mode, these should NOT be used
# Users must connect their own API keys via the UI
# Leave blank or remove these in production for security

# Preferred exchange for system operations (if any)
PREFERRED_EXCHANGE=binance

# Binance (ONLY if needed for system-level operations)
BINANCE_API_KEY=
BINANCE_API_SECRET=
BINANCE_TESTNET=false

# Bybit (ONLY if needed for system-level operations)
BYBIT_API_KEY=
BYBIT_API_SECRET=
BYBIT_TESTNET=false

# ==============================================================================
# TRADING CONFIGURATION
# ==============================================================================
# CRITICAL: Set to 'true' ONLY when ready for real trading
ENABLE_REAL_TRADING=false

# Risk management settings
MAX_LEVERAGE=10
MAX_POSITION_SIZE=1000
MAX_POSITIONS_PER_USER=5
MAX_POSITION_SIZE_PERCENT=50

# ==============================================================================
# TRADINGVIEW WEBHOOK CONFIGURATION
# ==============================================================================
# Webhook authentication secret (share this with TradingView)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
TRADINGVIEW_WEBHOOK_SECRET=REPLACE_WITH_WEBHOOK_SECRET

# IP whitelist for TradingView webhooks (comma-separated)
TRADINGVIEW_ALLOWED_IPS=52.89.214.238,34.212.75.30,54.218.53.128,52.32.178.7

# ==============================================================================
# PAYMENT PROCESSING (STRIPE)
# ==============================================================================
# Stripe API keys (get from https://dashboard.stripe.com)
STRIPE_PUBLISHABLE_KEY=pk_live_YOUR_PUBLISHABLE_KEY
STRIPE_SECRET_KEY=sk_live_YOUR_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET

# ==============================================================================
# EXTERNAL API SERVICES
# ==============================================================================
# OpenAI API (for AI trading features)
OPENAI_API_KEY=sk-YOUR_OPENAI_API_KEY

# Twilio (for SMS notifications)
TWILIO_ACCOUNT_SID=YOUR_TWILIO_ACCOUNT_SID
TWILIO_AUTH_TOKEN=YOUR_TWILIO_AUTH_TOKEN
TWILIO_PHONE_NUMBER=+1234567890

# ==============================================================================
# FRONTEND CONFIGURATION
# ==============================================================================
FRONTEND_URL=https://yourdomain.com

# ==============================================================================
# NOTIFICATIONS & WEBHOOKS
# ==============================================================================
WEBHOOK_URL=https://yourdomain.com/api/webhooks
ADMIN_EMAIL=admin@yourdomain.com

# Notification channels
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=true
ENABLE_WEBHOOK_NOTIFICATIONS=true

# ==============================================================================
# MONITORING & LOGGING
# ==============================================================================
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Sentry for error tracking (optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# ==============================================================================
# AFFILIATE SYSTEM CONFIGURATION
# ==============================================================================
# Minimum withdrawal amount (USD)
AFFILIATE_MIN_WITHDRAWAL=50

# Commission rates (percentage)
AFFILIATE_TIER1_RATE=0.015
AFFILIATE_TIER2_RATE=0.025
AFFILIATE_TIER3_RATE=0.05
AFFILIATE_TIER4_RATE=0.075

# Bonus thresholds
AFFILIATE_BRONZE_REFERRALS=10
AFFILIATE_BRONZE_BONUS=100
AFFILIATE_SILVER_REFERRALS=25
AFFILIATE_SILVER_BONUS=500
AFFILIATE_GOLD_REFERRALS=50
AFFILIATE_GOLD_BONUS=1000
AFFILIATE_DIAMOND_REFERRALS=100
AFFILIATE_DIAMOND_BONUS=5000

# ==============================================================================
# RATE LIMITING
# ==============================================================================
# General API rate limit (requests per 15 minutes)
RATE_LIMIT_GENERAL=100

# Auth endpoints (requests per 10 minutes)
RATE_LIMIT_AUTH=5

# Trading endpoints (requests per minute)
RATE_LIMIT_TRADING=30

# Webhook endpoints (requests per minute)
RATE_LIMIT_WEBHOOK=10

# ==============================================================================
# DEPLOYMENT INFORMATION
# ==============================================================================
# Server IP and deployment details
SERVER_IP=31.97.72.77
DEPLOYMENT_REGION=Lithuania
DEPLOYMENT_DATE=2025-01-01

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
FEATURE_AFFILIATE_SYSTEM=true
FEATURE_AI_SIGNALS=true
FEATURE_MULTI_CURRENCY=true
FEATURE_REAL_TIME_ANALYTICS=true

# ==============================================================================
# SECURITY NOTES
# ==============================================================================
# 1. NEVER use default/example values in production
# 2. Rotate all secrets every 90 days
# 3. Use environment variable encryption (AWS Secrets Manager, Vault, etc.)
# 4. Keep this file secure - add to .gitignore
# 5. Use different secrets for each environment (dev, staging, production)
# 6. Audit access to this file regularly
# ==============================================================================
